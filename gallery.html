<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galerie - MCN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background: #0a0a0a; color: #ffffff; }
        h1, h2, h3, h4 { font-family: 'Cormorant Garamond', serif; font-weight: 300; letter-spacing: -0.02em; }
        .gold-text { background: linear-gradient(135deg, #d4af37 0%, #f4e5a1 50%, #d4af37 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .nav-blur { background: rgba(10, 10, 10, 0.7); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
        .artwork-card { position: relative; overflow: hidden; cursor: pointer; transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1); }
        .artwork-card::before { content: ''; position: absolute; inset: 0; background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.9) 100%); opacity: 0.6; transition: opacity 0.5s ease; }
        .artwork-card:hover::before { opacity: 0.3; }
        .artwork-card img { transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        .artwork-card:hover img { transform: scale(1.15); }
        .filter-btn { transition: all 0.3s ease; }
        .filter-btn.active { background-color: #d4af37; color: #0a0a0a; }
        /* Language Dropdown styles */
        .mobile-menu {
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .mobile-menu.active { transform: translateX(0); }
        #languageDropdown a {
            transition: background-color 0.3s ease;
        }
        #languageDropdown a:hover {
            background-color: #d4af37;
            color: #0a0a0a;
        }
        #languageBtn {
            transition: background-color 0.3s ease;
        }

    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="fixed w-full top-0 z-50 nav-blur">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <a href="index.html" class="flex items-center space-x-3">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-yellow-600 to-yellow-800 flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg>
                    </div>
                    <span class="text-xl font-light tracking-wide">MCN</span>
                </a>
                <div class="hidden md:flex items-center space-x-12">
                    <a href="index.html" class="text-sm text-gray-300 hover:text-white transition" data-translate-key="nav_home">Accueil</a>
                    <a href="gallery.html" class="text-sm text-white transition" data-translate-key="nav_gallery">Galerie</a>
                    <a href="index.html#experience" class="text-sm text-gray-300 hover:text-white transition" data-translate-key="nav_experience">Expérience</a>
                    <a href="index.html#about" class="text-sm text-gray-300 hover:text-white transition" data-translate-key="nav_about">À propos</a>
                </div>
                <div class="flex items-center space-x-6">
                    <!-- Language Dropdown -->
                    <div class="relative hidden md:block" id="language-switcher">
                        <button id="languageBtn" class="flex items-center space-x-2 px-3 py-2 rounded-lg glass hover:bg-white/10">
                            <svg class="w-4 h-4 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <span id="languageLabel" class="text-sm">FR</span>
                            <svg class="w-3 h-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div id="languageDropdown" class="hidden absolute right-0 mt-2 w-40 glass-dark rounded-lg shadow-lg z-20 overflow-hidden">
                            <a href="#" class="block px-4 py-3 text-sm text-white" data-lang="fr">Français</a>
                            <a href="#" class="block px-4 py-3 text-sm text-white" data-lang="en">English</a>
                            <a href="#" class="block px-4 py-3 text-sm text-white" data-lang="wo">Wolof</a>
                        </div>
                    </div>
                    <a href="scanner.html" class="px-6 py-2.5 bg-yellow-600 hover:bg-yellow-700 text-black font-medium rounded-lg transition text-sm" data-translate-key="nav_scan_button">Scanner QR</a>
                    <!-- Mobile Menu Button -->
                    <button onclick="toggleMobileMenu()" class="md:hidden text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="mobile-menu fixed top-0 right-0 w-full h-screen bg-black z-40 md:hidden">
        <div class="flex flex-col items-center justify-center h-full space-y-8">
            <a href="index.html" class="text-3xl font-light text-white hover:text-yellow-600 transition" data-translate-key="nav_home">Accueil</a>
            <a href="gallery.html" class="text-3xl font-light text-white hover:text-yellow-600 transition" data-translate-key="nav_gallery">Galerie</a>
            <a href="index.html#experience" class="text-3xl font-light text-white hover:text-yellow-600 transition" data-translate-key="nav_experience">Expérience</a>
            <a href="index.html#about" class="text-3xl font-light text-white hover:text-yellow-600 transition" data-translate-key="nav_about">À propos</a>
            <button onclick="window.location.href='scanner.html'" class="px-8 py-3 bg-yellow-600 text-black font-medium rounded-lg" data-translate-key="nav_scan_button">Scanner QR</button>
            <!-- Language switcher for mobile -->
            <div class="flex space-x-4 pt-8 border-t border-gray-700/50">
                <button class="mobile-lang-btn text-gray-400" data-lang="fr">FR</button>
                <span class="text-gray-600">|</span>
                <button class="mobile-lang-btn text-gray-400" data-lang="en">EN</button>
                <span class="text-gray-600">|</span>
                <button class="mobile-lang-btn text-gray-400" data-lang="wo">WO</button>
            </div>
        </div>
    </div>

    <!-- Gallery Section -->
    <main class="pt-32 pb-20">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="text-center mb-16">
                <h1 class="text-6xl md:text-8xl font-light mb-4" data-translate-key="gallery_title">Notre <span class="gold-text">Collection</span></h1>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto font-light" data-translate-key="gallery_subtitle">
                    Explorez des siècles d'histoire et de créativité à travers les trésors du continent africain.
                </p>
            </div>

            <!-- Filters -->
            <div class="flex flex-wrap justify-center gap-3 mb-12" id="filters">
                <button class="filter-btn active px-5 py-2 bg-gray-800 border border-gray-700 rounded-full text-sm font-medium" data-filter="all" data-translate-key="filter_all">Toutes les œuvres</button>
                <button class="filter-btn px-5 py-2 bg-gray-800 border border-gray-700 rounded-full text-sm font-medium" data-filter="masque" data-translate-key="filter_masks">Masques</button>
                <button class="filter-btn px-5 py-2 bg-gray-800 border border-gray-700 rounded-full text-sm font-medium" data-filter="sculpture" data-translate-key="filter_sculptures">Sculptures</button>
                <button class="filter-btn px-5 py-2 bg-gray-800 border border-gray-700 rounded-full text-sm font-medium" data-filter="textile" data-translate-key="filter_textiles">Textiles</button>
                <button class="filter-btn px-5 py-2 bg-gray-800 border border-gray-700 rounded-full text-sm font-medium" data-filter="bijou" data-translate-key="filter_jewelry">Bijoux</button>
                <button class="filter-btn px-5 py-2 bg-gray-800 border border-gray-700 rounded-full text-sm font-medium" data-filter="instrument" data-translate-key="filter_instruments">Instruments</button>
            </div>

            <!-- Artworks Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="gallery-grid">
                <!-- Artworks will be injected here by JavaScript -->
            </div>
        </div>
    </main>

    <script>
        const artworks = [
            { id: 1, title: 'Masque Rituel', origin: 'Sénégal • XIXe siècle', category: 'masque', img: 'https://images.unsplash.com/photo-1547721064-da6cfb341d50?q=80&w=1974' },
            { id: 2, title: 'Sculpture Ancestrale', origin: 'Mali • XVIIIe siècle', category: 'sculpture', img: 'https://images.unsplash.com/photo-1581610275759-54d14502880f?q=80&w=1974' },
            { id: 3, title: 'Textile Traditionnel', origin: 'Ghana • XXe siècle', category: 'textile', img: 'https://images.unsplash.com/photo-1622342838345-541535330a9e?q=80&w=1964' },
            { id: 4, title: 'Céramique Sacrée', origin: 'Nigeria • XVIIe siècle', category: 'sculpture', img: 'https://images.unsplash.com/photo-1569992326083-a124b1a78947?q=80&w=1974' },
            { id: 5, title: 'Bijoux Royaux', origin: 'Côte d\'Ivoire • XIXe siècle', category: 'bijou', img: 'https://images.unsplash.com/photo-1619510312991-0a8a4b334a07?q=80&w=1974' },
            { id: 6, title: 'Instrument Sacré', origin: 'Bénin • XVIIIe siècle', category: 'instrument', img: 'https://plus.unsplash.com/premium_photo-1678280810283-92e639b52a1c?q=80&w=1974' },
            { id: 7, title: 'Masque Punu', origin: 'Gabon • XIXe siècle', category: 'masque', img: 'https://images.unsplash.com/photo-1504196643154-31149927393a?q=80&w=1974' },
            { id: 8, title: 'Statuette en Bronze', origin: 'Royaume du Bénin • XVIe siècle', category: 'sculpture', img: 'https://images.unsplash.com/photo-1617888692842-3985618f3347?q=80&w=1974' },
        ];

        const galleryGrid = document.getElementById('gallery-grid');
        const filterContainer = document.getElementById('filters');

        function displayArtworks(filter = 'all') {
            galleryGrid.innerHTML = '';
            const filteredArtworks = filter === 'all'
                ? artworks
                : artworks.filter(art => art.category === filter);

            if (filteredArtworks.length === 0) {
                const lang = localStorage.getItem('mcn-lang') || 'fr';
                const noResultText = translations[lang]?.no_artwork_found || "Aucune œuvre trouvée dans cette catégorie.";
                galleryGrid.innerHTML = `<p class="text-gray-400 col-span-full text-center">${noResultText}</p>`;
                return;
            }
            filteredArtworks.forEach(art => {
                const card = `
                    <a href="artwork-detail.html?id=${art.id}" class="artwork-card group block aspect-[4/5] rounded-2xl overflow-hidden" data-category="${art.category}">
                        <img src="${art.img}" alt="${art.title}" class="w-full h-full object-cover">
                        <div class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent">
                            <h3 class="text-xl font-light mb-1 text-white">${art.title}</h3>
                            <p class="text-sm text-gray-300">${art.origin}</p>
                        </div>
                    </a>
                `;
                galleryGrid.insertAdjacentHTML('beforeend', card);
            });
        }

        filterContainer.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                // Update active button
                filterContainer.querySelector('.active').classList.remove('active');
                e.target.classList.add('active');

                // Filter artworks
                const filter = e.target.dataset.filter;
                displayArtworks(filter);
            }
        });

        // Initial display
        // --- Translation System ---
        const translations = {
            fr: {
                nav_home: "Accueil",
                nav_gallery: "Galerie",
                nav_experience: "Expérience",
                nav_about: "À propos",
                nav_scan_button: "Scanner QR",
                gallery_title: "Notre <span class='gold-text'>Collection</span>",
                gallery_subtitle: "Explorez des siècles d'histoire et de créativité à travers les trésors du continent africain.",
                filter_all: "Toutes les œuvres",
                filter_masks: "Masques",
                filter_sculptures: "Sculptures",
                filter_textiles: "Textiles",
                filter_jewelry: "Bijoux",
                filter_instruments: "Instruments",
                no_artwork_found: "Aucune œuvre trouvée dans cette catégorie."
            },
            en: {
                nav_home: "Home",
                nav_gallery: "Gallery",
                nav_experience: "Experience",
                nav_about: "About",
                nav_scan_button: "Scan QR",
                gallery_title: "Our <span class='gold-text'>Collection</span>",
                gallery_subtitle: "Explore centuries of history and creativity through the treasures of the African continent.",
                filter_all: "All Artworks",
                filter_masks: "Masks",
                filter_sculptures: "Sculptures",
                filter_textiles: "Textiles",
                filter_jewelry: "Jewelry",
                filter_instruments: "Instruments",
                no_artwork_found: "No artwork found in this category."
            },
            wo: {
                nav_home: "Xët wu njëkk",
                nav_gallery: "Nataal yi",
                nav_experience: "Nataal",
                nav_about: "Jëm ci nun",
                nav_scan_button: "Scanal QR",
                gallery_title: "Sunu <span class='gold-text'>Nataal</span>",
                gallery_subtitle: "Gisal sa bopp xarala yu am solo yu jóge ci Afrig.",
                filter_all: "Nataal yépp",
                filter_masks: "Masque yi",
                filter_sculptures: "Natt yi",
                filter_textiles: "Sëru yi",
                filter_jewelry: "Takk yi",
                filter_instruments: "Jumtukaay yi",
                no_artwork_found: "Amul benn nataal ci wall bi."
            }
        };

        function setLanguage(lang) {
            document.querySelectorAll('[data-translate-key]').forEach(element => {
                const key = element.getAttribute('data-translate-key');
                if (translations[lang] && translations[lang][key]) {
                    element.innerHTML = translations[lang][key];
                }
            });
            if(document.getElementById('languageLabel')) {
                document.getElementById('languageLabel').textContent = lang.toUpperCase();
            }
            // Highlight active mobile language button
            document.querySelectorAll('.mobile-lang-btn').forEach(btn => {
                btn.classList.toggle('text-yellow-600', btn.dataset.lang === lang);
                btn.classList.toggle('text-gray-400', btn.dataset.lang !== lang);
            });
            localStorage.setItem('mcn-lang', lang);
        }

        // Language switcher logic
        const languageBtn = document.getElementById('languageBtn');
        const languageDropdown = document.getElementById('languageDropdown');

        if (languageBtn && languageDropdown) {
            languageBtn.addEventListener('click', function(event) {
                event.stopPropagation();
                languageDropdown.classList.toggle('hidden');
            });

            document.addEventListener('click', function() {
                if (!languageDropdown.classList.contains('hidden')) {
                    languageDropdown.classList.add('hidden');
                }
            });

            languageDropdown.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                    event.preventDefault();
                    const selectedLang = event.target.getAttribute('data-lang');
                    setLanguage(selectedLang);
                    languageDropdown.classList.add('hidden');
                }
            });
        }

        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('active');
        }

        // Close mobile menu when clicking on a link
        document.querySelectorAll('#mobileMenu a').forEach(link => {
            link.addEventListener('click', () => {
                toggleMobileMenu();
            });
        });

        // Mobile language switcher logic
        document.querySelectorAll('.mobile-lang-btn').forEach(button => {
            button.addEventListener('click', (event) => {
                const selectedLang = event.target.getAttribute('data-lang');
                setLanguage(selectedLang);
            });
        });

        // Apply saved language on page load
        document.addEventListener('DOMContentLoaded', () => {
            displayArtworks();
            const savedLang = localStorage.getItem('mcn-lang') || 'fr';
            setLanguage(savedLang);
        });
    </script>
</body>
</html>